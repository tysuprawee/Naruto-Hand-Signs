export const SUPPORTED_LANGUAGES = [
  "EN",
  "JP",
  "TH",
  "VN",
  "FR",
  "ES",
  "DE",
  "ZH",
  "KR",
] as const;

export type LanguageCode = (typeof SUPPORTED_LANGUAGES)[number];

export const DEFAULT_LANGUAGE: LanguageCode = "EN";
export const LANGUAGE_STORAGE_KEY = "jutsu-play-language-v1";

export const LANGUAGE_OPTIONS: Array<{ code: LanguageCode; label: string }> = [
  { code: "EN", label: "English" },
  { code: "JP", label: "日本語" },
  { code: "TH", label: "ไทย" },
  { code: "VN", label: "Tiếng Việt" },
  { code: "FR", label: "Français" },
  { code: "ES", label: "Español" },
  { code: "DE", label: "Deutsch" },
  { code: "ZH", label: "中文" },
  { code: "KR", label: "한국어" },
];

const HTML_LANG_BY_CODE: Record<LanguageCode, string> = {
  EN: "en",
  JP: "ja",
  TH: "th",
  VN: "vi",
  FR: "fr",
  ES: "es",
  DE: "de",
  ZH: "zh",
  KR: "ko",
};

interface TranslationNode {
  [key: string]: string | TranslationNode;
}

export const TRANSLATIONS: Record<LanguageCode, TranslationNode> = {
  EN: {
    menu: {
      languageLabel: "Language",
      trainMasterRankUp: "TRAIN • MASTER • RANK UP",
      syncingAccount: "SYNCING ACCOUNT...",
      accountLinkRequired: "ACCOUNT LINK REQUIRED",
      enterAcademy: "ENTER ACADEMY",
      settings: "SETTINGS",
      tutorial: "TUTORIAL",
      about: "ABOUT",
      signOut: "SIGN OUT",
      quit: "QUIT",
      muteMenuMusic: "Mute Menu Music",
      unmuteMenuMusic: "Unmute Menu Music",
    },
    modeSelect: {
      title: "SELECT YOUR PATH",
      subtitle: "CHOOSE YOUR TRAINING",
      freeObstaclePlay: "FREE OBSTACLE / PLAY",
      rankMode: "RANK MODE",
      jutsuLibrary: "JUTSU LIBRARY",
      multiplayerLocked: "MULTIPLAYER (LOCKED)",
      questBoard: "QUEST BOARD",
      leaderboard: "LEADERBOARD",
      back: "BACK",
    },
    common: {
      back: "BACK",
      backToMenu: "Back to Menu",
      backToSelectPath: "BACK TO SELECT PATH",
      cancel: "CANCEL",
      continue: "Continue",
      done: "DONE",
      next: "NEXT",
      ok: "OK",
      prev: "PREV",
      retry: "RETRY",
    },
    calibration: {
      requiredTitle: "CALIBRATION REQUIRED",
      requiredSubtitle: "Complete one calibration to unlock Free Play and Rank Mode.",
      noCameraFeed: "NO CAMERA FEED",
      cameraUnavailableFallback: "Camera unavailable for calibration.",
      lightLabel: "LIGHT",
      modelLabel: "MODEL",
      detectedLabel: "DETECTED",
      confidenceLabel: "CONF",
      samplesLabel: "SAMPLES",
      progressLabel: "PROGRESS",
      statusLabel: "Calibration status",
      ready: "READY",
      missing: "MISSING",
      serverClockSynced: "Server clock synced",
      localFallbackClock: "Using local fallback clock",
      cameraLabel: "Camera",
      scan: "SCAN",
      scanBusy: "SCAN...",
      startCalibration: "START CALIBRATION",
      retryCamera: "RETRY CAMERA",
      keepHandsVisible: "Keep both hands visible and move naturally.",
      pressScanIfNoFeed: "Press SCAN if no camera feed appears.",
      lightState: {
        good: "GOOD",
        low_light: "LOW LIGHT",
        overexposed: "OVEREXPOSED",
        low_contrast: "LOW CONTRAST",
      },
    },
    settings: {
      title: "SETTINGS",
      subtitle: "Menu settings mirror the pygame controls.",
      musicVolume: "Music Volume",
      sfxVolume: "SFX Volume",
      cameraSetup: "Camera Setup",
      scanning: "SCANNING...",
      scanCameras: "SCAN CAMERAS",
      cameraDevice: "Camera Device",
      cameraLabel: "Camera",
      cameraPreview: "Camera Preview",
      showHandSkeleton: "Show Hand Skeleton",
      restrictedSignsAlwaysOn: "Restricted Signs (Require 2 Hands) - Always On",
      fullscreen: "Fullscreen",
      runCalibration: "RUN CALIBRATION",
      saveAndBack: "SAVE & BACK",
    },
    tutorial: {
      step: "STEP",
      skip: "SKIP",
      finish: "FINISH",
      steps: {
        0: {
          title: "Setup Your Camera",
          lines: {
            0: "Open Settings and choose your camera device.",
            1: "Enable preview to verify framing and lighting.",
            2: "Keep both hands visible in the camera panel.",
          },
        },
        1: {
          title: "Perform Signs In Order",
          lines: {
            0: "Follow the sign sequence shown at the bottom.",
            1: "Each correct sign advances your combo step.",
            2: "Stable lighting improves landmark recognition.",
          },
        },
        2: {
          title: "Execute The Jutsu",
          lines: {
            0: "Complete all signs to trigger the jutsu effect.",
            1: "You earn XP for successful completions.",
            2: "Level up to unlock higher-tier jutsu.",
          },
        },
        3: {
          title: "Rank Mode And Progress",
          lines: {
            0: "Use Rank Mode for timed runs and leaderboard ranking.",
            1: "Visit Quest Board for daily and weekly XP rewards.",
            2: "Master each jutsu to reach Bronze, Silver, and Gold tiers.",
          },
        },
      },
    },
    leaderboard: {
      speedrunTitleLine: "SPEEDRUN LEADERBOARD",
      levelTitleLine: "LEVEL LEADERBOARD",
      fastestVerifiedClearsFor: "Fastest verified clears for",
      levelSubtitle: "Top shinobi ranked by LV and XP.",
      hallOfFame: "HALL OF FAME",
      speedrunTab: "SPEEDRUN",
      levelTab: "LEVEL",
      previousMode: "Previous leaderboard mode",
      nextMode: "Next leaderboard mode",
      colRank: "Rank",
      colShinobi: "Shinobi",
      colTime: "Time",
      colTitle: "Title",
      colLv: "LV",
      colXp: "XP",
      loading: "Summoning scrolls...",
      noRecordsFor: "No",
      recordsFound: "records found.",
      noLevelRecordsFound: "No level leaderboard records found yet.",
      page: "PAGE",
      entries: "ENTRIES",
    },
    announcement: {
      title: "Announcement",
    },
    maintenance: {
      label: "Maintenance",
      title: "Jutsu Academy Temporarily Offline",
      statusDiscord: "STATUS / DISCORD",
    },
    update: {
      label: "Mandatory Update",
      title: "Client Update Required",
      current: "Current",
      required: "Required",
      latest: "latest",
      getUpdate: "GET UPDATE",
      reload: "RELOAD",
    },
    mastery: {
      masteryUnlocked: "MASTERY UNLOCKED",
      newBest: "NEW BEST",
      firstRecord: "FIRST RECORD",
      newBestTime: "NEW BEST TIME",
      unranked: "UNRANKED",
      unlocked: "Unlocked!",
      up: "UP",
      down: "DOWN",
      bronze: "BRONZE",
      silver: "SILVER",
      gold: "GOLD",
      toGo: "to go",
    },
    levelUp: {
      title: "LEVEL UP",
      newJutsuUnlocked: "New Jutsu Unlocked",
      more: "more",
      awesome: "Awesome",
      sourceJutsuClear: "Jutsu Clear",
      sourceQuestReward: "Quest Reward",
    },
    logout: {
      title: "Sign Out?",
      subtitle: "Sign out and clear this Discord session?",
      helper: "You can log back in anytime.",
    },
    connection: {
      title: "Connection Lost",
      configMissing: "Configuration Missing",
      supabaseUnavailable: "Supabase environment is unavailable.",
      lineNetworkInterrupted: "Network connection interrupted.",
      lineSessionTerminated: "Session has been terminated.",
      exitToLogin: "EXIT TO LOGIN",
    },
    quit: {
      title: "Leaving so soon?",
      subtitle: "QUIT in web signs out your Discord session and returns you to login.",
      confirm: "YES, QUIT",
      stay: "STAY",
    },
    multiplayer: {
      lockedDescription: "Online multiplayer matchmaking and anti-cheat flow are not enabled in this web build yet.",
      joinDiscordForUpdates: "JOIN DISCORD FOR UPDATES",
    },
    library: {
      title: "JUTSU LIBRARY",
      contextFree: "Free Play context: choose a jutsu, then jump into practice.",
      contextRank: "Rank Mode context: choose a jutsu, then challenge your speed.",
      contextBrowse: "Browse unlocks and requirements by level.",
      skillLocked: "Skill Locked",
      unlocksAt: "unlocks at",
      signs: "signs",
      mastery: "Mastery",
      unlocked: "UNLOCKED",
      locked: "LOCKED",
      requiredLevel: "Required Level",
      sequence: "Sequence",
    },
    quest: {
      boardTitle: "QUEST BOARD",
      boardSubtitle: "Server-authoritative quest state and claim rewards (same guarded RPC path as pygame).",
      dailyResetUtc: "Daily reset (UTC)",
      weeklyResetUtc: "Weekly reset (UTC)",
      clockSource: "Clock source",
      serverSynced: "Server-synced",
      localFallback: "Local fallback",
      daily: "Daily",
      weekly: "Weekly",
      claim: "CLAIM",
      claiming: "CLAIMING...",
      claimed: "CLAIMED",
      rewardTitle: "Quest Reward",
      rewardClaimed: "Reward claimed",
      questClaimedPrefix: "Quest claimed",
      claimFailed: "Quest claim failed",
      identityUnavailable: "Discord identity is unavailable. Re-login and retry.",
      def: {
        d_signs: { title: "Land 25 correct signs" },
        d_jutsus: { title: "Complete 5 jutsu runs" },
        d_xp: { title: "Earn 450 XP" },
        w_jutsus: { title: "Complete 30 jutsu runs" },
        w_challenges: { title: "Finish 12 rank mode runs" },
        w_xp: { title: "Earn 4000 XP" },
      },
    },
    run: {
      runErrorTitle: "Run Error",
      runAwardRejected: "Run award rejected",
      identityUnavailable: "Discord identity is unavailable. Re-login and retry.",
      unlockedPrefix: "Unlocked",
      freeCompletion: "Free Play",
      rankCompletion: "Rank",
      completionApplied: "completion applied",
      recoveredPendingPrefix: "Recovered",
      pendingRankSubmit: "pending rank submit",
      pluralSuffix: "s",
    },
    about: {
      title: "ABOUT JUTSU ACADEMY",
      subtitle: "Project details, controls, privacy, and roadmap.",
      sections: {
        0: {
          title: "Overview",
          lines: {
            0: "Jutsu Academy is a Naruto-inspired hand-sign training game where players perform sign sequences in front of a camera to execute jutsu.",
            1: "The game focuses on timing, recognition accuracy, progression unlocks, and fast iteration between free practice and rank mode runs.",
          },
        },
        1: {
          title: "Modes",
          lines: {
            0: "Free Play: pick any unlocked jutsu and practice at your pace.",
            1: "Rank Mode: clear the full sequence as fast as possible.",
            2: "Jutsu Library: browse tiers, lock requirements, and progression status.",
            3: "Leaderboard: compare rank mode times against other players.",
          },
        },
        2: {
          title: "Controls",
          lines: {
            0: "Menu navigation: mouse or touch input.",
            1: "Playing: LEFT and RIGHT arrows switch jutsu when allowed.",
            2: "Rank Mode: SPACE starts countdown and restarts after results.",
            3: "Exit current run: ESC or the in-game BACK button.",
          },
        },
        3: {
          title: "Privacy And Data",
          lines: {
            0: "Camera frames are processed locally for sign detection and effects.",
            1: "Raw camera frames are not uploaded.",
            2: "Discord login is used for account identity and progression sync.",
          },
        },
        4: {
          title: "Legal Notice",
          lines: {
            0: "This is a non-profit fan-made project for educational and portfolio use.",
            1: "Naruto and related names or characters are property of their respective rights holders.",
            2: "This project is not affiliated with or endorsed by official rights holders.",
          },
        },
      },
    },
  },
  JP: {
    menu: {
      languageLabel: "言語",
      trainMasterRankUp: "鍛錬 • 極める • 昇格",
      syncingAccount: "アカウント同期中...",
      accountLinkRequired: "アカウント連携が必要",
      enterAcademy: "アカデミーに入る",
      settings: "設定",
      tutorial: "チュートリアル",
      about: "概要",
      signOut: "サインアウト",
      quit: "終了",
      muteMenuMusic: "メニュー音楽をミュート",
      unmuteMenuMusic: "メニュー音楽のミュート解除",
    },
    modeSelect: {
      title: "進む道を選べ",
      subtitle: "修行を選択",
      freeObstaclePlay: "フリー障害物 / プレイ",
      rankMode: "ランクモード",
      jutsuLibrary: "術ライブラリ",
      multiplayerLocked: "マルチプレイ (ロック)",
      questBoard: "クエストボード",
      leaderboard: "リーダーボード",
      back: "戻る",
    },
    common: {
      back: "戻る",
      backToMenu: "メニューに戻る",
      backToSelectPath: "道選択へ戻る",
      cancel: "キャンセル",
      continue: "続行",
      done: "完了",
      next: "次へ",
      ok: "OK",
      prev: "前へ",
      retry: "再試行",
    },
    calibration: {
      requiredTitle: "キャリブレーション必須",
      requiredSubtitle: "フリープレイとランクモードを開放するにはキャリブレーションを1回完了してください。",
      noCameraFeed: "カメラ映像なし",
      cameraUnavailableFallback: "キャリブレーション用カメラが利用できません。",
      lightLabel: "照明",
      modelLabel: "モデル",
      detectedLabel: "検出",
      confidenceLabel: "信頼度",
      samplesLabel: "サンプル",
      progressLabel: "進行",
      statusLabel: "キャリブレーション状態",
      ready: "準備完了",
      missing: "未完了",
      serverClockSynced: "サーバー時刻同期済み",
      localFallbackClock: "ローカル時刻を使用",
      cameraLabel: "カメラ",
      scan: "スキャン",
      scanBusy: "スキャン中...",
      startCalibration: "キャリブ開始",
      retryCamera: "カメラ再試行",
      keepHandsVisible: "両手を見える位置に保ち、自然に動かしてください。",
      pressScanIfNoFeed: "映像が表示されない場合はスキャンを押してください。",
      errorTitle: "キャリブレーションエラー",
      label: "キャリブレーション",
      synced: "キャリブレーションを同期しました。",
      profileSynced: "キャリブレーションプロファイルを同期しました。",
      syncFailed: "キャリブレーション同期失敗",
      lightState: {
        good: "良好",
        low_light: "低照度",
        overexposed: "露出過多",
        low_contrast: "低コントラスト",
      },
    },
    settings: {
      title: "設定",
      subtitle: "メニュー設定はpygame版の操作に合わせています。",
      musicVolume: "音楽ボリューム",
      sfxVolume: "効果音ボリューム",
      cameraSetup: "カメラ設定",
      scanning: "スキャン中...",
      scanCameras: "カメラをスキャン",
      cameraDevice: "カメラデバイス",
      cameraLabel: "カメラ",
      cameraPreview: "カメラプレビュー",
      showHandSkeleton: "手のスケルトンを表示",
      restrictedSignsAlwaysOn: "制限サイン（両手必須）- 常時オン",
      fullscreen: "フルスクリーン",
      runCalibration: "キャリブを実行",
      saveAndBack: "保存して戻る",
    },
    tutorial: {
      step: "ステップ",
      skip: "スキップ",
      finish: "完了",
      steps: {
        0: {
          title: "カメラを設定",
          lines: {
            0: "設定を開いてカメラデバイスを選択します。",
            1: "プレビューを有効にして構図と明るさを確認します。",
            2: "カメラ画面に両手が映るようにしてください。",
          },
        },
        1: {
          title: "印を順番に実行",
          lines: {
            0: "下部に表示される印の順番に従ってください。",
            1: "正しい印ごとにコンボが進行します。",
            2: "照明が安定すると認識精度が上がります。",
          },
        },
        2: {
          title: "術を発動",
          lines: {
            0: "すべての印を完了すると術エフェクトが発動します。",
            1: "成功するとXPを獲得します。",
            2: "レベルアップで上位術を解放できます。",
          },
        },
        3: {
          title: "ランクモードと進行",
          lines: {
            0: "ランクモードでタイムを競い、ランキングに挑戦します。",
            1: "クエストボードでデイリー/ウィークリーXP報酬を受け取れます。",
            2: "各術の熟練度を上げてブロンズ/シルバー/ゴールドを目指しましょう。",
          },
        },
      },
    },
    leaderboard: {
      speedrunTitleLine: "スピードランランキング",
      levelTitleLine: "レベルランキング",
      fastestVerifiedClearsFor: "検証済み最速クリア:",
      levelSubtitle: "LVとXPで並ぶ上位忍。",
      hallOfFame: "殿堂",
      speedrunTab: "スピードラン",
      levelTab: "レベル",
      previousMode: "前のモード",
      nextMode: "次のモード",
      colRank: "順位",
      colShinobi: "忍",
      colTime: "タイム",
      colTitle: "称号",
      colLv: "LV",
      colXp: "XP",
      loading: "巻物を召喚中...",
      noRecordsFor: "記録なし:",
      recordsFound: "",
      noLevelRecordsFound: "レベルランキング記録はまだありません。",
      page: "ページ",
      entries: "件",
    },
    announcement: {
      title: "お知らせ",
    },
    maintenance: {
      label: "メンテナンス",
      title: "Jutsu Academy は一時停止中",
      statusDiscord: "状態 / DISCORD",
    },
    update: {
      label: "必須アップデート",
      title: "クライアント更新が必要です",
      current: "現在",
      required: "必要",
      latest: "最新",
      getUpdate: "更新を取得",
      reload: "再読み込み",
    },
    mastery: {
      masteryUnlocked: "熟練度解放",
      newBest: "新ベスト",
      firstRecord: "初記録",
      newBestTime: "ベスト更新",
      unranked: "未ランク",
      unlocked: "解放！",
      up: "UP",
      down: "DOWN",
      bronze: "ブロンズ",
      silver: "シルバー",
      gold: "ゴールド",
      toGo: "残り",
    },
    levelUp: {
      title: "レベルアップ",
      newJutsuUnlocked: "新しい術を解放",
      more: "件追加",
      awesome: "最高！",
      sourceJutsuClear: "術クリア",
      sourceQuestReward: "クエスト報酬",
    },
    logout: {
      title: "サインアウトしますか？",
      subtitle: "Discordセッションを終了してサインアウトしますか？",
      helper: "いつでも再ログインできます。",
    },
    connection: {
      title: "接続切断",
      configMissing: "設定不足",
      supabaseUnavailable: "Supabase環境が利用できません。",
      lineNetworkInterrupted: "ネットワーク接続が中断されました。",
      lineSessionTerminated: "セッションは終了しました。",
      exitToLogin: "ログインへ戻る",
    },
    quit: {
      title: "もう終了しますか？",
      subtitle: "Web版でQUITするとDiscordセッションを終了してログイン画面へ戻ります。",
      confirm: "はい、終了",
      stay: "残る",
    },
    multiplayer: {
      lockedDescription: "このWeb版ではオンラインマッチメイクと対チート機能はまだ有効化されていません。",
      joinDiscordForUpdates: "更新はDISCORDで確認",
    },
    library: {
      title: "術ライブラリ",
      contextFree: "フリープレイ: 術を選択して練習へ。",
      contextRank: "ランクモード: 術を選択してタイムに挑戦。",
      contextBrowse: "レベルごとの解放条件を閲覧。",
      skillLocked: "スキルロック中",
      unlocksAt: "解放レベル",
      signs: "印",
      mastery: "熟練度",
      unlocked: "解放済み",
      locked: "ロック",
      requiredLevel: "必要レベル",
      sequence: "シーケンス",
    },
    quest: {
      boardTitle: "クエストボード",
      boardSubtitle: "サーバー権威のクエスト状態と報酬受け取り（pygame版と同じガードRPC）。",
      dailyResetUtc: "デイリー更新 (UTC)",
      weeklyResetUtc: "ウィークリー更新 (UTC)",
      clockSource: "時刻ソース",
      serverSynced: "サーバー同期",
      localFallback: "ローカル代替",
      daily: "デイリー",
      weekly: "ウィークリー",
      claim: "受け取る",
      claiming: "受け取り中...",
      claimed: "受領済み",
      rewardTitle: "クエスト報酬",
      rewardClaimed: "報酬受領",
      questClaimedPrefix: "クエスト受領",
      claimFailed: "クエスト受領失敗",
      identityUnavailable: "Discord IDが利用できません。再ログインして再試行してください。",
      def: {
        d_signs: { title: "正しい印を25回成功" },
        d_jutsus: { title: "術ランを5回完了" },
        d_xp: { title: "450 XPを獲得" },
        w_jutsus: { title: "術ランを30回完了" },
        w_challenges: { title: "ランクモードを12回完了" },
        w_xp: { title: "4000 XPを獲得" },
      },
    },
    run: {
      runErrorTitle: "ランエラー",
      runAwardRejected: "ラン報酬が拒否されました",
      identityUnavailable: "Discord IDが利用できません。再ログインして再試行してください。",
      unlockedPrefix: "解放",
      freeCompletion: "フリー",
      rankCompletion: "ランク",
      completionApplied: "完了が反映されました",
      recoveredPendingPrefix: "復旧",
      pendingRankSubmit: "保留中ランク送信",
      pluralSuffix: "",
    },
    about: {
      title: "JUTSU ACADEMY について",
      subtitle: "プロジェクト詳細、操作、プライバシー、ロードマップ。",
      sections: {
        0: {
          title: "概要",
          lines: {
            0: "Jutsu Academy は、カメラ前で印シーケンスを実行して術を発動する、NARUTO風の印トレーニングゲームです。",
            1: "タイミング、認識精度、進行解放、フリー練習とランク挑戦の高速反復に重点を置いています。",
          },
        },
        1: {
          title: "モード",
          lines: {
            0: "フリープレイ: 解放済み術を選んで自由に練習。",
            1: "ランクモード: 全シーケンスを最速で完了。",
            2: "術ライブラリ: ティア、解放条件、進行状況を確認。",
            3: "リーダーボード: 他プレイヤーとランクタイム比較。",
          },
        },
        2: {
          title: "操作",
          lines: {
            0: "メニュー操作: マウスまたはタッチ。",
            1: "プレイ中: LEFT/RIGHT矢印で術切替（可能時）。",
            2: "ランクモード: SPACEでカウント開始、結果後に再開。",
            3: "ラン終了: ESC またはゲーム内BACK。",
          },
        },
        3: {
          title: "プライバシーとデータ",
          lines: {
            0: "カメラフレームはサイン検出と演出のためローカル処理されます。",
            1: "生のカメラ映像はアップロードされません。",
            2: "DiscordログインはID確認と進行同期に使用されます。",
          },
        },
        4: {
          title: "法的注意",
          lines: {
            0: "本プロジェクトは教育・ポートフォリオ目的の非営利ファンメイドです。",
            1: "Narutoおよび関連名称・キャラクターは各権利者に帰属します。",
            2: "本プロジェクトは公式権利者と提携・承認関係にありません。",
          },
        },
      },
    },
  },
  TH: {
    menu: {
      languageLabel: "ภาษา",
      trainMasterRankUp: "ฝึก • เชี่ยวชาญ • เลื่อนแรงก์",
      syncingAccount: "กำลังซิงก์บัญชี...",
      accountLinkRequired: "ต้องเชื่อมบัญชี",
      enterAcademy: "เข้าอะคาเดมี",
      settings: "ตั้งค่า",
      tutorial: "สอนเล่น",
      about: "เกี่ยวกับ",
      signOut: "ออกจากระบบ",
      quit: "ออกเกม",
      muteMenuMusic: "ปิดเสียงเพลงเมนู",
      unmuteMenuMusic: "เปิดเสียงเพลงเมนู",
    },
    modeSelect: {
      title: "เลือกเส้นทางของคุณ",
      subtitle: "เลือกการฝึกของคุณ",
      freeObstaclePlay: "ฟรีอุปสรรค / เล่น",
      rankMode: "โหมดแรงก์",
      jutsuLibrary: "คลังคาถา",
      multiplayerLocked: "หลายผู้เล่น (ล็อก)",
      questBoard: "กระดานเควสต์",
      leaderboard: "ลีดเดอร์บอร์ด",
      back: "ย้อนกลับ",
    },
    common: {
      back: "ย้อนกลับ",
      backToMenu: "กลับเมนู",
      backToSelectPath: "กลับไปเลือกเส้นทาง",
      cancel: "ยกเลิก",
      continue: "ต่อไป",
      done: "เสร็จสิ้น",
      next: "ถัดไป",
      ok: "ตกลง",
      prev: "ก่อนหน้า",
      retry: "ลองใหม่",
    },
    calibration: {
      requiredTitle: "ต้องปรับเทียบ",
      requiredSubtitle: "ทำการปรับเทียบ 1 ครั้งเพื่อปลดล็อก Free Play และ Rank Mode",
      noCameraFeed: "ไม่พบภาพจากกล้อง",
      cameraUnavailableFallback: "ไม่สามารถใช้กล้องสำหรับการปรับเทียบได้",
      lightLabel: "แสง",
      modelLabel: "โมเดล",
      detectedLabel: "ตรวจพบ",
      confidenceLabel: "ความมั่นใจ",
      samplesLabel: "ตัวอย่าง",
      progressLabel: "ความคืบหน้า",
      statusLabel: "สถานะการปรับเทียบ",
      ready: "พร้อม",
      missing: "ยังไม่พร้อม",
      serverClockSynced: "ซิงก์เวลาจากเซิร์ฟเวอร์แล้ว",
      localFallbackClock: "ใช้เวลาจากเครื่อง",
      cameraLabel: "กล้อง",
      scan: "สแกน",
      scanBusy: "กำลังสแกน...",
      startCalibration: "เริ่มปรับเทียบ",
      retryCamera: "ลองกล้องอีกครั้ง",
      keepHandsVisible: "ให้มือทั้งสองอยู่ในเฟรม และขยับตามธรรมชาติ",
      pressScanIfNoFeed: "หากไม่มีกล้องขึ้น ให้กดสแกน",
      errorTitle: "ข้อผิดพลาดการปรับเทียบ",
      label: "การปรับเทียบ",
      synced: "ซิงก์การปรับเทียบแล้ว",
      profileSynced: "ซิงก์โปรไฟล์การปรับเทียบแล้ว",
      syncFailed: "ซิงก์การปรับเทียบล้มเหลว",
      lightState: {
        good: "ดี",
        low_light: "แสงน้อย",
        overexposed: "สว่างเกินไป",
        low_contrast: "คอนทราสต์ต่ำ",
      },
    },
    settings: {
      title: "ตั้งค่า",
      subtitle: "การตั้งค่าเมนูใช้แนวเดียวกับ pygame",
      musicVolume: "ระดับเสียงเพลง",
      sfxVolume: "ระดับเสียงเอฟเฟกต์",
      cameraSetup: "ตั้งค่ากล้อง",
      scanning: "กำลังสแกน...",
      scanCameras: "สแกนกล้อง",
      cameraDevice: "อุปกรณ์กล้อง",
      cameraLabel: "กล้อง",
      cameraPreview: "พรีวิวกล้อง",
      showHandSkeleton: "แสดงโครงมือ",
      restrictedSignsAlwaysOn: "สัญญาณจำกัด (ต้องใช้ 2 มือ) - เปิดตลอด",
      fullscreen: "เต็มจอ",
      runCalibration: "รันการปรับเทียบ",
      saveAndBack: "บันทึกและกลับ",
    },
    tutorial: {
      step: "ขั้นตอน",
      skip: "ข้าม",
      finish: "เสร็จสิ้น",
      steps: {
        0: {
          title: "ตั้งค่ากล้อง",
          lines: {
            0: "เข้า Settings แล้วเลือกอุปกรณ์กล้อง",
            1: "เปิดพรีวิวเพื่อตรวจมุมกล้องและแสง",
            2: "ให้มือทั้งสองอยู่ในเฟรมกล้อง",
          },
        },
        1: {
          title: "ทำสัญญาณตามลำดับ",
          lines: {
            0: "ทำตามลำดับสัญญาณที่แสดงด้านล่าง",
            1: "ทำถูกแต่ละสัญญาณจะเลื่อนคอมโบ",
            2: "แสงที่คงที่ช่วยให้ตรวจจับแม่นขึ้น",
          },
        },
        2: {
          title: "ปล่อยคาถา",
          lines: {
            0: "ทำครบทุกสัญญาณเพื่อปล่อยเอฟเฟกต์คาถา",
            1: "สำเร็จแล้วจะได้ XP",
            2: "เลเวลอัปเพื่อปลดล็อกคาถาระดับสูง",
          },
        },
        3: {
          title: "โหมดแรงก์และความก้าวหน้า",
          lines: {
            0: "ใช้โหมดแรงก์เพื่อจับเวลาและขึ้นลีดเดอร์บอร์ด",
            1: "ไปที่ Quest Board เพื่อรับรางวัล XP รายวัน/รายสัปดาห์",
            2: "ฝึกให้เชี่ยวชาญเพื่อไปให้ถึง Bronze/Silver/Gold",
          },
        },
      },
    },
    leaderboard: {
      speedrunTitleLine: "ลีดเดอร์บอร์ดสปีดรัน",
      levelTitleLine: "ลีดเดอร์บอร์ดเลเวล",
      fastestVerifiedClearsFor: "เวลาที่ดีที่สุดที่ตรวจสอบแล้วสำหรับ",
      levelSubtitle: "นินจาระดับสูงตาม LV และ XP",
      hallOfFame: "หอเกียรติยศ",
      speedrunTab: "สปีดรัน",
      levelTab: "เลเวล",
      previousMode: "โหมดก่อนหน้า",
      nextMode: "โหมดถัดไป",
      colRank: "อันดับ",
      colShinobi: "ชิโนบิ",
      colTime: "เวลา",
      colTitle: "ฉายา",
      colLv: "LV",
      colXp: "XP",
      loading: "กำลังเรียกม้วนคัมภีร์...",
      noRecordsFor: "ไม่พบสถิติของ",
      recordsFound: "",
      noLevelRecordsFound: "ยังไม่มีสถิติเลเวล",
      page: "หน้า",
      entries: "รายการ",
    },
    announcement: {
      title: "ประกาศ",
    },
    maintenance: {
      label: "ปิดปรับปรุง",
      title: "Jutsu Academy ปิดชั่วคราว",
      statusDiscord: "สถานะ / DISCORD",
    },
    update: {
      label: "อัปเดตบังคับ",
      title: "ต้องอัปเดตไคลเอนต์",
      current: "เวอร์ชันปัจจุบัน",
      required: "ต้องการ",
      latest: "ล่าสุด",
      getUpdate: "รับอัปเดต",
      reload: "โหลดใหม่",
    },
    mastery: {
      masteryUnlocked: "ปลดล็อกความชำนาญ",
      newBest: "สถิติใหม่",
      firstRecord: "สถิติแรก",
      newBestTime: "เวลาใหม่ดีที่สุด",
      unranked: "ยังไม่จัดอันดับ",
      unlocked: "ปลดล็อกแล้ว!",
      up: "ดีขึ้น",
      down: "ช้าลง",
      bronze: "บรอนซ์",
      silver: "ซิลเวอร์",
      gold: "โกลด์",
      toGo: "ที่เหลือ",
    },
    levelUp: {
      title: "เลเวลอัป",
      newJutsuUnlocked: "ปลดล็อกคาถาใหม่",
      more: "เพิ่มเติม",
      awesome: "เยี่ยมมาก",
      sourceJutsuClear: "เคลียร์คาถา",
      sourceQuestReward: "รางวัลเควสต์",
    },
    logout: {
      title: "ออกจากระบบ?",
      subtitle: "ออกจากระบบและล้างเซสชัน Discord นี้หรือไม่?",
      helper: "คุณสามารถล็อกอินกลับได้ทุกเวลา",
    },
    connection: {
      title: "การเชื่อมต่อหลุด",
      configMissing: "การตั้งค่าไม่ครบ",
      supabaseUnavailable: "ไม่พบการตั้งค่า Supabase",
      lineNetworkInterrupted: "การเชื่อมต่อเครือข่ายถูกตัด",
      lineSessionTerminated: "เซสชันถูกยุติแล้ว",
      exitToLogin: "ออกไปหน้าเข้าสู่ระบบ",
    },
    quit: {
      title: "จะออกตอนนี้เลย?",
      subtitle: "ปุ่ม QUIT บนเว็บจะออกจาก Discord แล้วกลับหน้าเข้าสู่ระบบ",
      confirm: "ใช่, ออก",
      stay: "อยู่ต่อ",
    },
    multiplayer: {
      lockedDescription: "ระบบจับคู่ผู้เล่นออนไลน์และแอนตี้ชีทยังไม่เปิดในเว็บเวอร์ชันนี้",
      joinDiscordForUpdates: "เข้า DISCORD เพื่ออัปเดต",
    },
    library: {
      title: "คลังคาถา",
      contextFree: "Free Play: เลือกคาถาแล้วฝึกได้ทันที",
      contextRank: "Rank Mode: เลือกคาถาแล้วท้าทายเวลา",
      contextBrowse: "ดูเงื่อนไขปลดล็อกตามเลเวล",
      skillLocked: "สกิลยังล็อก",
      unlocksAt: "ปลดล็อกที่",
      signs: "สัญญาณ",
      mastery: "ความชำนาญ",
      unlocked: "ปลดล็อกแล้ว",
      locked: "ล็อก",
      requiredLevel: "เลเวลที่ต้องการ",
      sequence: "ลำดับ",
    },
    quest: {
      boardTitle: "กระดานเควสต์",
      boardSubtitle: "สถานะเควสต์และรับรางวัลแบบยืนยันจากเซิร์ฟเวอร์ (RPC แบบเดียวกับ pygame)",
      dailyResetUtc: "รีเซ็ตรายวัน (UTC)",
      weeklyResetUtc: "รีเซ็ตรายสัปดาห์ (UTC)",
      clockSource: "แหล่งเวลา",
      serverSynced: "ซิงก์เซิร์ฟเวอร์",
      localFallback: "ใช้เวลาเครื่อง",
      daily: "รายวัน",
      weekly: "รายสัปดาห์",
      claim: "รับรางวัล",
      claiming: "กำลังรับ...",
      claimed: "รับแล้ว",
      rewardTitle: "รางวัลเควสต์",
      rewardClaimed: "รับรางวัลแล้ว",
      questClaimedPrefix: "รับเควสต์แล้ว",
      claimFailed: "รับเควสต์ไม่สำเร็จ",
      identityUnavailable: "ไม่พบ Discord identity กรุณาเข้าสู่ระบบใหม่แล้วลองอีกครั้ง",
      def: {
        d_signs: { title: "ทำสัญญาณถูกต้อง 25 ครั้ง" },
        d_jutsus: { title: "เล่นคาถาครบ 5 รอบ" },
        d_xp: { title: "ได้รับ 450 XP" },
        w_jutsus: { title: "เล่นคาถาครบ 30 รอบ" },
        w_challenges: { title: "จบโหมดแรงก์ 12 รอบ" },
        w_xp: { title: "ได้รับ 4000 XP" },
      },
    },
    run: {
      runErrorTitle: "ข้อผิดพลาดการเล่น",
      runAwardRejected: "การให้รางวัลรอบเล่นถูกปฏิเสธ",
      identityUnavailable: "ไม่พบ Discord identity กรุณาเข้าสู่ระบบใหม่แล้วลองอีกครั้ง",
      unlockedPrefix: "ปลดล็อก",
      freeCompletion: "ฟรีเพลย์",
      rankCompletion: "แรงก์",
      completionApplied: "บันทึกการจบแล้ว",
      recoveredPendingPrefix: "กู้คืนแล้ว",
      pendingRankSubmit: "การส่งแรงก์ที่ค้าง",
      pluralSuffix: "",
    },
    about: {
      title: "เกี่ยวกับ JUTSU ACADEMY",
      subtitle: "รายละเอียดโปรเจกต์ การควบคุม ความเป็นส่วนตัว และโร้ดแมป",
      sections: {
        0: {
          title: "ภาพรวม",
          lines: {
            0: "Jutsu Academy คือเกมฝึกสัญญาณมือสไตล์ Naruto ที่ให้ผู้เล่นทำลำดับสัญญาณหน้ากล้องเพื่อปล่อยคาถา",
            1: "เกมเน้นจังหวะ ความแม่นยำในการตรวจจับ การปลดล็อกความก้าวหน้า และการสลับฝึกระหว่าง Free และ Rank อย่างรวดเร็ว",
          },
        },
        1: {
          title: "โหมด",
          lines: {
            0: "Free Play: เลือกคาถาที่ปลดล็อกแล้วและฝึกได้ตามสบาย",
            1: "Rank Mode: ทำลำดับทั้งหมดให้เร็วที่สุด",
            2: "Jutsu Library: ดูระดับ เงื่อนไขปลดล็อก และสถานะความก้าวหน้า",
            3: "Leaderboard: เปรียบเทียบเวลาแรงก์กับผู้เล่นคนอื่น",
          },
        },
        2: {
          title: "การควบคุม",
          lines: {
            0: "นำทางเมนู: เมาส์หรือสัมผัส",
            1: "ขณะเล่น: ปุ่มซ้าย/ขวาเปลี่ยนคาถาเมื่ออนุญาต",
            2: "Rank Mode: ปุ่ม SPACE เริ่มนับถอยหลังและเริ่มใหม่หลังผลลัพธ์",
            3: "ออกจากรอบ: ESC หรือปุ่ม BACK ในเกม",
          },
        },
        3: {
          title: "ความเป็นส่วนตัวและข้อมูล",
          lines: {
            0: "เฟรมกล้องถูกประมวลผลในเครื่องสำหรับตรวจจับสัญญาณและเอฟเฟกต์",
            1: "เฟรมกล้องดิบจะไม่ถูกอัปโหลด",
            2: "ใช้ Discord login สำหรับยืนยันตัวตนและซิงก์ความก้าวหน้า",
          },
        },
        4: {
          title: "ข้อกฎหมาย",
          lines: {
            0: "โปรเจกต์แฟนเมดไม่แสวงหากำไรเพื่อการศึกษาและพอร์ตโฟลิโอ",
            1: "Naruto และชื่อ/ตัวละครที่เกี่ยวข้องเป็นทรัพย์สินของเจ้าของสิทธิ์",
            2: "โปรเจกต์นี้ไม่ได้มีความเกี่ยวข้องหรือรับรองโดยผู้ถือสิทธิ์อย่างเป็นทางการ",
          },
        },
      },
    },
  },
  VN: {
    menu: {
      languageLabel: "Ngôn ngữ",
      trainMasterRankUp: "LUYỆN • TINH THÔNG • THĂNG HẠNG",
      syncingAccount: "ĐANG DONG BO TAI KHOAN...",
      accountLinkRequired: "CAN LIEN KET TAI KHOAN",
      enterAcademy: "VAO HOC VIEN",
      settings: "CAI DAT",
      tutorial: "HUONG DAN",
      about: "THONG TIN",
      signOut: "DANG XUAT",
      quit: "THOAT",
      muteMenuMusic: "Tat nhac menu",
      unmuteMenuMusic: "Bat nhac menu",
    },
    modeSelect: {
      title: "CHON CON DUONG CUA BAN",
      subtitle: "CHON KHOA LUYEN",
      freeObstaclePlay: "TU DO VAT CAN / CHOI",
      rankMode: "CHE DO XEP HANG",
      jutsuLibrary: "THU VIEN JUTSU",
      multiplayerLocked: "NHIỀU NGƯỜI CHƠI (KHÓA)",
      questBoard: "BANG NHIEM VU",
      leaderboard: "BANG XEP HANG",
      back: "QUAY LAI",
    },
    common: {
      back: "QUAY LAI",
      backToMenu: "VE MENU",
      backToSelectPath: "VE CHON LO TRINH",
      cancel: "HUY",
      continue: "TIEP TUC",
      done: "XONG",
      next: "TIEP",
      ok: "OK",
      prev: "TRUOC",
      retry: "THU LAI",
    },
    calibration: {
      requiredTitle: "CAN HIEU CHINH",
      requiredSubtitle: "Hoan thanh 1 lan hieu chinh de mo khoa Free Play va Rank Mode.",
      noCameraFeed: "KHONG CO CAMERA",
      cameraUnavailableFallback: "Camera khong kha dung cho hieu chinh.",
      lightLabel: "ANH SANG",
      modelLabel: "MO HINH",
      detectedLabel: "PHAT HIEN",
      confidenceLabel: "DO TIN CAY",
      samplesLabel: "MAU",
      progressLabel: "TIEN DO",
      statusLabel: "Trang thai hieu chinh",
      ready: "SAN SANG",
      missing: "THIEU",
      serverClockSynced: "Da dong bo gio may chu",
      localFallbackClock: "Dang dung gio may cuc bo",
      cameraLabel: "CAMERA",
      scan: "QUET",
      scanBusy: "DANG QUET...",
      startCalibration: "BAT DAU HIEU CHINH",
      retryCamera: "THU LAI CAMERA",
      keepHandsVisible: "Giu ca hai tay trong khung hinh va di chuyen tu nhien.",
      pressScanIfNoFeed: "Nhan QUET neu khong thay hinh camera.",
      errorTitle: "LOI HIEU CHINH",
      label: "Hieu chinh",
      synced: "Da dong bo hieu chinh.",
      profileSynced: "Da dong bo ho so hieu chinh.",
      syncFailed: "Dong bo hieu chinh that bai",
      lightState: {
        good: "TOT",
        low_light: "THIEU SANG",
        overexposed: "QUA SANG",
        low_contrast: "TUONG PHAN THAP",
      },
    },
    settings: {
      title: "CAI DAT",
      subtitle: "Cai dat menu giong ban pygame.",
      musicVolume: "Am luong nhac",
      sfxVolume: "Am luong hieu ung",
      cameraSetup: "Thiet lap camera",
      scanning: "DANG QUET...",
      scanCameras: "QUET CAMERA",
      cameraDevice: "Thiet bi camera",
      cameraLabel: "CAMERA",
      cameraPreview: "Xem truoc camera",
      showHandSkeleton: "Hien khung xuong tay",
      restrictedSignsAlwaysOn: "Restricted Signs (can 2 tay) - Luon bat",
      fullscreen: "Toan man hinh",
      runCalibration: "CHAY HIEU CHINH",
      saveAndBack: "LUU VA QUAY LAI",
    },
    tutorial: {
      step: "BUOC",
      skip: "BO QUA",
      finish: "KET THUC",
    },
    leaderboard: {
      speedrunTitleLine: "BANG XEP HANG SPEEDRUN",
      levelTitleLine: "BANG XEP HANG CAP DO",
      fastestVerifiedClearsFor: "Thanh tich nhanh nhat da xac thuc cho",
      levelSubtitle: "Top shinobi xep theo LV va XP.",
      hallOfFame: "HALL OF FAME",
      speedrunTab: "SPEEDRUN",
      levelTab: "CAP DO",
      previousMode: "Mode truoc",
      nextMode: "Mode sau",
      colRank: "Hang",
      colShinobi: "Shinobi",
      colTime: "Thoi gian",
      colTitle: "Danh hieu",
      colLv: "LV",
      colXp: "XP",
      loading: "Dang trieu hoi cuon...",
      noRecordsFor: "Khong co ban ghi cho",
      recordsFound: "",
      noLevelRecordsFound: "Chua co ban ghi bang cap do.",
      page: "TRANG",
      entries: "MUC",
    },
    announcement: {
      title: "Thong bao",
    },
    maintenance: {
      label: "Bao tri",
      title: "Jutsu Academy tam thoi offline",
      statusDiscord: "TRANG THAI / DISCORD",
    },
    update: {
      label: "Cap nhat bat buoc",
      title: "Can cap nhat client",
      current: "Hien tai",
      required: "Yeu cau",
      latest: "moi nhat",
      getUpdate: "LAY CAP NHAT",
      reload: "TAI LAI",
    },
    mastery: {
      masteryUnlocked: "MO KHOA MASTERY",
      newBest: "KY LUC MOI",
      firstRecord: "KY LUC DAU",
      newBestTime: "THOI GIAN TOT NHAT MOI",
      unranked: "CHUA XEP HANG",
      unlocked: "Da mo khoa!",
      up: "LEN",
      down: "XUONG",
      bronze: "DONG",
      silver: "BAC",
      gold: "VANG",
      toGo: "con lai",
    },
    levelUp: {
      title: "LEN CAP",
      newJutsuUnlocked: "Mo khoa jutsu moi",
      more: "them",
      awesome: "Tuyet voi",
      sourceJutsuClear: "Hoan thanh Jutsu",
      sourceQuestReward: "Thuong Quest",
    },
    logout: {
      title: "Dang xuat?",
      subtitle: "Dang xuat va xoa session Discord nay?",
      helper: "Ban co the dang nhap lai bat cu luc nao.",
    },
    connection: {
      title: "Mat ket noi",
      configMissing: "Thieu cau hinh",
      supabaseUnavailable: "Moi truong Supabase khong kha dung.",
      lineNetworkInterrupted: "Ket noi mang bi gian doan.",
      lineSessionTerminated: "Session da bi ket thuc.",
      exitToLogin: "THOAT VE DANG NHAP",
    },
    quit: {
      title: "Ban sap roi di?",
      subtitle: "QUIT tren web se dang xuat Discord va tro ve man hinh dang nhap.",
      confirm: "DONG Y THOAT",
      stay: "O LAI",
    },
    multiplayer: {
      lockedDescription: "Ghep tran online va anti-cheat chua duoc bat trong ban web nay.",
      joinDiscordForUpdates: "VAO DISCORD DE NHAN CAP NHAT",
    },
    library: {
      title: "THU VIEN JUTSU",
      contextFree: "Free Play: chon jutsu va vao luyen tap.",
      contextRank: "Rank Mode: chon jutsu va thu thach toc do.",
      contextBrowse: "Xem mo khoa va yeu cau theo cap.",
      skillLocked: "SKILL BI KHOA",
      unlocksAt: "mo khoa o",
      signs: "dau an",
      mastery: "Mastery",
      unlocked: "DA MO KHOA",
      locked: "BI KHOA",
      requiredLevel: "Cap do yeu cau",
      sequence: "Chuoi",
    },
    quest: {
      boardTitle: "BANG NHIEM VU",
      boardSubtitle: "Trang thai quest do server xac thuc va nhan thuong (cung luong RPC nhu pygame).",
      dailyResetUtc: "Reset ngay (UTC)",
      weeklyResetUtc: "Reset tuan (UTC)",
      clockSource: "Nguon gio",
      serverSynced: "Dong bo server",
      localFallback: "Du phong local",
      daily: "Hang ngay",
      weekly: "Hang tuan",
      claim: "NHAN",
      claiming: "DANG NHAN...",
      claimed: "DA NHAN",
      rewardTitle: "Thuong Quest",
      rewardClaimed: "Da nhan thuong",
      questClaimedPrefix: "Da nhan quest",
      claimFailed: "Nhan quest that bai",
      identityUnavailable: "Khong co Discord identity. Dang nhap lai roi thu lai.",
      def: {
        d_signs: { title: "Dat 25 dau an dung" },
        d_jutsus: { title: "Hoan thanh 5 lan jutsu" },
        d_xp: { title: "Nhan 450 XP" },
        w_jutsus: { title: "Hoan thanh 30 lan jutsu" },
        w_challenges: { title: "Hoan thanh 12 lan rank mode" },
        w_xp: { title: "Nhan 4000 XP" },
      },
    },
    run: {
      runErrorTitle: "LOI LUOT CHAY",
      runAwardRejected: "Tu choi thuong luot choi",
      identityUnavailable: "Khong co Discord identity. Dang nhap lai roi thu lai.",
      unlockedPrefix: "Mo khoa",
      freeCompletion: "Free Play",
      rankCompletion: "Rank",
      completionApplied: "da ap dung hoan thanh",
      recoveredPendingPrefix: "Da phuc hoi",
      pendingRankSubmit: "ban gui rank dang cho",
      pluralSuffix: "",
    },
    about: {
      title: "VE JUTSU ACADEMY",
      subtitle: "Chi tiet du an, dieu khien, quyen rieng tu va lo trinh.",
    },
  },
  FR: {
    menu: {
      languageLabel: "Langue",
      trainMasterRankUp: "ENTRAINE • MAITRISE • MONTE EN RANG",
      syncingAccount: "SYNCHRONISATION DU COMPTE...",
      accountLinkRequired: "LIEN DU COMPTE REQUIS",
      enterAcademy: "ENTRER DANS L ACADEMIE",
      settings: "PARAMETRES",
      tutorial: "TUTORIEL",
      about: "A PROPOS",
      signOut: "SE DECONNECTER",
      quit: "QUITTER",
      muteMenuMusic: "Couper la musique du menu",
      unmuteMenuMusic: "Activer la musique du menu",
    },
    modeSelect: {
      title: "CHOISIS TON VOIE",
      subtitle: "CHOISIS TON ENTRAINEMENT",
      freeObstaclePlay: "OBSTACLE LIBRE / JOUER",
      rankMode: "MODE CLASSEMENT",
      jutsuLibrary: "BIBLIOTHEQUE JUTSU",
      multiplayerLocked: "MULTIJOUEUR (VERROUILLE)",
      questBoard: "TABLEAU DES QUETES",
      leaderboard: "CLASSEMENT",
      back: "RETOUR",
    },
    common: {
      back: "RETOUR",
      backToMenu: "Retour menu",
      backToSelectPath: "RETOUR AU CHOIX",
      cancel: "ANNULER",
      continue: "Continuer",
      done: "TERMINE",
      next: "SUIVANT",
      ok: "OK",
      prev: "PREC",
      retry: "REESSAYER",
    },
    calibration: {
      requiredTitle: "CALIBRATION REQUISE",
      requiredSubtitle: "Termine une calibration pour debloquer Free Play et Rank Mode.",
      noCameraFeed: "AUCUN FLUX CAMERA",
      cameraUnavailableFallback: "Camera indisponible pour la calibration.",
      lightLabel: "LUMIERE",
      modelLabel: "MODELE",
      detectedLabel: "DETECTE",
      confidenceLabel: "CONFIANCE",
      samplesLabel: "ECHANT",
      progressLabel: "PROGRES",
      statusLabel: "Statut calibration",
      ready: "PRET",
      missing: "MANQUANT",
      serverClockSynced: "Horloge serveur synchronisee",
      localFallbackClock: "Horloge locale",
      cameraLabel: "Camera",
      scan: "SCAN",
      scanBusy: "SCAN...",
      startCalibration: "DEMARRER CALIBRATION",
      retryCamera: "REESSAYER CAMERA",
      keepHandsVisible: "Garde les deux mains visibles et bouge naturellement.",
      pressScanIfNoFeed: "Appuie sur SCAN si aucun flux n apparait.",
      errorTitle: "Erreur calibration",
      label: "Calibration",
      synced: "Calibration synchronisee.",
      profileSynced: "Profil de calibration synchronise.",
      syncFailed: "Echec de synchro calibration",
      lightState: {
        good: "BON",
        low_light: "FAIBLE LUMIERE",
        overexposed: "SUREXPOSE",
        low_contrast: "FAIBLE CONTRASTE",
      },
    },
    settings: {
      title: "PARAMETRES",
      subtitle: "Les parametres menu suivent la version pygame.",
      musicVolume: "Volume musique",
      sfxVolume: "Volume SFX",
      cameraSetup: "Configuration camera",
      scanning: "SCAN...",
      scanCameras: "SCANNER CAMERAS",
      cameraDevice: "Peripherique camera",
      cameraLabel: "Camera",
      cameraPreview: "Apercu camera",
      showHandSkeleton: "Afficher squelette main",
      restrictedSignsAlwaysOn: "Signes restreints (2 mains) - Toujours actif",
      fullscreen: "Plein ecran",
      runCalibration: "LANCER CALIBRATION",
      saveAndBack: "SAUVER & RETOUR",
    },
    tutorial: {
      step: "ETAPE",
      skip: "PASSER",
      finish: "FINIR",
    },
    leaderboard: {
      speedrunTitleLine: "CLASSEMENT SPEEDRUN",
      levelTitleLine: "CLASSEMENT NIVEAU",
      fastestVerifiedClearsFor: "Meilleurs clears verifies pour",
      levelSubtitle: "Top shinobi classes par LV et XP.",
      hallOfFame: "HALL OF FAME",
      speedrunTab: "SPEEDRUN",
      levelTab: "NIVEAU",
      previousMode: "Mode precedent",
      nextMode: "Mode suivant",
      colRank: "Rang",
      colShinobi: "Shinobi",
      colTime: "Temps",
      colTitle: "Titre",
      colLv: "LV",
      colXp: "XP",
      loading: "Invocation des parchemins...",
      noRecordsFor: "Aucun record pour",
      recordsFound: "",
      noLevelRecordsFound: "Aucun record de niveau pour le moment.",
      page: "PAGE",
      entries: "ENTREES",
    },
    announcement: { title: "Annonce" },
    maintenance: {
      label: "Maintenance",
      title: "Jutsu Academy temporairement hors ligne",
      statusDiscord: "STATUT / DISCORD",
    },
    update: {
      label: "Mise a jour obligatoire",
      title: "Mise a jour client requise",
      current: "Actuel",
      required: "Requis",
      latest: "dernier",
      getUpdate: "OBTENIR MAJ",
      reload: "RECHARGER",
    },
    mastery: {
      masteryUnlocked: "MAITRISE DEBLOQUEE",
      newBest: "NOUVEAU RECORD",
      firstRecord: "PREMIER RECORD",
      newBestTime: "NOUVEAU MEILLEUR TEMPS",
      unranked: "NON CLASSE",
      unlocked: "Debloque!",
      up: "UP",
      down: "DOWN",
      bronze: "BRONZE",
      silver: "ARGENT",
      gold: "OR",
      toGo: "restant",
    },
    levelUp: {
      title: "NIVEAU UP",
      newJutsuUnlocked: "Nouveau jutsu debloque",
      more: "de plus",
      awesome: "Genial",
      sourceJutsuClear: "Clear jutsu",
      sourceQuestReward: "Recompense quete",
    },
    logout: {
      title: "Se deconnecter ?",
      subtitle: "Se deconnecter et effacer cette session Discord ?",
      helper: "Tu peux te reconnecter a tout moment.",
    },
    connection: {
      title: "Connexion perdue",
      configMissing: "Configuration manquante",
      supabaseUnavailable: "Environnement Supabase indisponible.",
      lineNetworkInterrupted: "Connexion reseau interrompue.",
      lineSessionTerminated: "Session terminee.",
      exitToLogin: "RETOUR LOGIN",
    },
    quit: {
      title: "Tu pars deja ?",
      subtitle: "QUIT sur web deconnecte Discord et retourne a la connexion.",
      confirm: "OUI, QUITTER",
      stay: "RESTER",
    },
    multiplayer: {
      lockedDescription: "Le matchmaking online et l anti-cheat ne sont pas encore actifs sur cette version web.",
      joinDiscordForUpdates: "DISCORD POUR LES NEWS",
    },
    library: {
      title: "BIBLIOTHEQUE JUTSU",
      contextFree: "Contexte Free Play: choisis un jutsu puis entraine-toi.",
      contextRank: "Contexte Rank Mode: choisis un jutsu puis vise le meilleur temps.",
      contextBrowse: "Parcours les debloquages et exigences par niveau.",
      skillLocked: "Competence verrouillee",
      unlocksAt: "se debloque au",
      signs: "signes",
      mastery: "Maitrise",
      unlocked: "DEBLOQUE",
      locked: "VERROUILLE",
      requiredLevel: "Niveau requis",
      sequence: "Sequence",
    },
    quest: {
      boardTitle: "TABLEAU DES QUETES",
      boardSubtitle: "Etat des quetes autoritaire serveur et reclamation des recompenses.",
      dailyResetUtc: "Reset quotidien (UTC)",
      weeklyResetUtc: "Reset hebdo (UTC)",
      clockSource: "Source horloge",
      serverSynced: "Synchronisee serveur",
      localFallback: "Local secours",
      daily: "Quotidien",
      weekly: "Hebdo",
      claim: "RECLAMER",
      claiming: "RECLAMATION...",
      claimed: "RECLAME",
      rewardTitle: "Recompense quete",
      rewardClaimed: "Recompense recuperee",
      questClaimedPrefix: "Quete recuperee",
      claimFailed: "Echec reclamation quete",
      identityUnavailable: "Identite Discord indisponible. Reconnecte-toi puis reessaie.",
      def: {
        d_signs: { title: "Reussir 25 signes corrects" },
        d_jutsus: { title: "Completer 5 runs de jutsu" },
        d_xp: { title: "Gagner 450 XP" },
        w_jutsus: { title: "Completer 30 runs de jutsu" },
        w_challenges: { title: "Finir 12 runs rank mode" },
        w_xp: { title: "Gagner 4000 XP" },
      },
    },
    run: {
      runErrorTitle: "Erreur run",
      runAwardRejected: "Recompense run rejetee",
      identityUnavailable: "Identite Discord indisponible. Reconnecte-toi puis reessaie.",
      unlockedPrefix: "Debloque",
      freeCompletion: "Free Play",
      rankCompletion: "Rank",
      completionApplied: "completion appliquee",
      recoveredPendingPrefix: "Recupere",
      pendingRankSubmit: "envoi rank en attente",
      pluralSuffix: "s",
    },
    about: {
      title: "A PROPOS DE JUTSU ACADEMY",
      subtitle: "Details du projet, controles, confidentialite et feuille de route.",
    },
  },
  ES: {
    menu: {
      languageLabel: "Idioma",
      trainMasterRankUp: "ENTRENA • DOMINA • SUBE DE RANGO",
      syncingAccount: "SINCRONIZANDO CUENTA...",
      accountLinkRequired: "SE REQUIERE VINCULO DE CUENTA",
      enterAcademy: "ENTRAR A LA ACADEMIA",
      settings: "AJUSTES",
      tutorial: "TUTORIAL",
      about: "ACERCA DE",
      signOut: "CERRAR SESION",
      quit: "SALIR",
      muteMenuMusic: "Silenciar musica del menu",
      unmuteMenuMusic: "Activar musica del menu",
    },
    modeSelect: {
      title: "SELECCIONA TU CAMINO",
      subtitle: "ELIGE TU ENTRENAMIENTO",
      freeObstaclePlay: "OBSTACULO LIBRE / JUGAR",
      rankMode: "MODO RANGO",
      jutsuLibrary: "BIBLIOTECA JUTSU",
      multiplayerLocked: "MULTIJUGADOR (BLOQUEADO)",
      questBoard: "TABLON DE MISIONES",
      leaderboard: "CLASIFICACION",
      back: "ATRAS",
    },
    common: {
      back: "ATRAS",
      backToMenu: "Volver al menu",
      backToSelectPath: "VOLVER A RUTA",
      cancel: "CANCELAR",
      continue: "Continuar",
      done: "LISTO",
      next: "SIGUIENTE",
      ok: "OK",
      prev: "ANT",
      retry: "REINTENTAR",
    },
    calibration: {
      requiredTitle: "CALIBRACION REQUERIDA",
      requiredSubtitle: "Completa una calibracion para desbloquear Free Play y Rank Mode.",
      noCameraFeed: "SIN CAMARA",
      cameraUnavailableFallback: "Camara no disponible para calibracion.",
      lightLabel: "LUZ",
      modelLabel: "MODELO",
      detectedLabel: "DETECTADO",
      confidenceLabel: "CONF",
      samplesLabel: "MUESTRAS",
      progressLabel: "PROGRESO",
      statusLabel: "Estado calibracion",
      ready: "LISTO",
      missing: "FALTA",
      serverClockSynced: "Reloj servidor sincronizado",
      localFallbackClock: "Usando reloj local",
      cameraLabel: "Camara",
      scan: "ESCANEAR",
      scanBusy: "ESCANEANDO...",
      startCalibration: "INICIAR CALIBRACION",
      retryCamera: "REINTENTAR CAMARA",
      keepHandsVisible: "Mantén ambas manos visibles y muévete con naturalidad.",
      pressScanIfNoFeed: "Pulsa ESCANEAR si no aparece la cámara.",
      errorTitle: "Error de calibracion",
      label: "Calibracion",
      synced: "Calibracion sincronizada.",
      profileSynced: "Perfil de calibracion sincronizado.",
      syncFailed: "Fallo de sincronizacion de calibracion",
      lightState: {
        good: "BUENA",
        low_light: "POCA LUZ",
        overexposed: "SOBREEXPUESTA",
        low_contrast: "BAJO CONTRASTE",
      },
    },
    settings: {
      title: "AJUSTES",
      subtitle: "Los ajustes del menu reflejan los controles de pygame.",
      musicVolume: "Volumen musica",
      sfxVolume: "Volumen SFX",
      cameraSetup: "Configurar camara",
      scanning: "ESCANEANDO...",
      scanCameras: "ESCANEAR CAMARAS",
      cameraDevice: "Dispositivo camara",
      cameraLabel: "Camara",
      cameraPreview: "Vista previa camara",
      showHandSkeleton: "Mostrar esqueleto de mano",
      restrictedSignsAlwaysOn: "Signos restringidos (2 manos) - Siempre activo",
      fullscreen: "Pantalla completa",
      runCalibration: "EJECUTAR CALIBRACION",
      saveAndBack: "GUARDAR Y VOLVER",
    },
    tutorial: {
      step: "PASO",
      skip: "SALTAR",
      finish: "FINALIZAR",
    },
    leaderboard: {
      speedrunTitleLine: "CLASIFICACION SPEEDRUN",
      levelTitleLine: "CLASIFICACION NIVEL",
      fastestVerifiedClearsFor: "Mejores tiempos verificados para",
      levelSubtitle: "Top shinobi por LV y XP.",
      hallOfFame: "HALL OF FAME",
      speedrunTab: "SPEEDRUN",
      levelTab: "NIVEL",
      previousMode: "Modo anterior",
      nextMode: "Modo siguiente",
      colRank: "Rango",
      colShinobi: "Shinobi",
      colTime: "Tiempo",
      colTitle: "Titulo",
      colLv: "LV",
      colXp: "XP",
      loading: "Invocando pergaminos...",
      noRecordsFor: "Sin registros para",
      recordsFound: "",
      noLevelRecordsFound: "Aun no hay registros de nivel.",
      page: "PAGINA",
      entries: "ENTRADAS",
    },
    announcement: { title: "Anuncio" },
    maintenance: {
      label: "Mantenimiento",
      title: "Jutsu Academy temporalmente fuera de linea",
      statusDiscord: "ESTADO / DISCORD",
    },
    update: {
      label: "Actualizacion obligatoria",
      title: "Se requiere actualizacion del cliente",
      current: "Actual",
      required: "Requerido",
      latest: "ultimo",
      getUpdate: "OBTENER ACTUALIZACION",
      reload: "RECARGAR",
    },
    mastery: {
      masteryUnlocked: "MAESTRIA DESBLOQUEADA",
      newBest: "NUEVO RECORD",
      firstRecord: "PRIMER RECORD",
      newBestTime: "NUEVO MEJOR TIEMPO",
      unranked: "SIN RANGO",
      unlocked: "Desbloqueado!",
      up: "ARRIBA",
      down: "ABAJO",
      bronze: "BRONCE",
      silver: "PLATA",
      gold: "ORO",
      toGo: "restante",
    },
    levelUp: {
      title: "SUBIDA DE NIVEL",
      newJutsuUnlocked: "Nuevo jutsu desbloqueado",
      more: "mas",
      awesome: "Genial",
      sourceJutsuClear: "Jutsu completado",
      sourceQuestReward: "Recompensa de mision",
    },
    logout: {
      title: "Cerrar sesion?",
      subtitle: "Cerrar sesion y limpiar esta sesion de Discord?",
      helper: "Puedes iniciar sesion de nuevo cuando quieras.",
    },
    connection: {
      title: "Conexion perdida",
      configMissing: "Falta configuracion",
      supabaseUnavailable: "Entorno Supabase no disponible.",
      lineNetworkInterrupted: "La conexion de red se interrumpio.",
      lineSessionTerminated: "La sesion se ha terminado.",
      exitToLogin: "SALIR A LOGIN",
    },
    quit: {
      title: "Te vas tan pronto?",
      subtitle: "QUIT en web cierra Discord y te devuelve al login.",
      confirm: "SI, SALIR",
      stay: "QUEDARME",
    },
    multiplayer: {
      lockedDescription: "El emparejamiento online y el anti-cheat aun no estan activos en esta version web.",
      joinDiscordForUpdates: "DISCORD PARA ACTUALIZACIONES",
    },
    library: {
      title: "BIBLIOTECA JUTSU",
      contextFree: "Free Play: elige un jutsu y practica.",
      contextRank: "Rank Mode: elige un jutsu y desafia tu velocidad.",
      contextBrowse: "Consulta desbloqueos y requisitos por nivel.",
      skillLocked: "Habilidad bloqueada",
      unlocksAt: "se desbloquea en",
      signs: "signos",
      mastery: "Maestria",
      unlocked: "DESBLOQUEADO",
      locked: "BLOQUEADO",
      requiredLevel: "Nivel requerido",
      sequence: "Secuencia",
    },
    quest: {
      boardTitle: "TABLON DE MISIONES",
      boardSubtitle: "Estado de misiones autoritativo del servidor y reclamo de recompensas.",
      dailyResetUtc: "Reinicio diario (UTC)",
      weeklyResetUtc: "Reinicio semanal (UTC)",
      clockSource: "Fuente de reloj",
      serverSynced: "Sincronizado con servidor",
      localFallback: "Respaldo local",
      daily: "Diario",
      weekly: "Semanal",
      claim: "RECLAMAR",
      claiming: "RECLAMANDO...",
      claimed: "RECLAMADO",
      rewardTitle: "Recompensa de mision",
      rewardClaimed: "Recompensa reclamada",
      questClaimedPrefix: "Mision reclamada",
      claimFailed: "Fallo al reclamar mision",
      identityUnavailable: "Identidad de Discord no disponible. Vuelve a iniciar sesion e intenta de nuevo.",
      def: {
        d_signs: { title: "Acierta 25 signos correctos" },
        d_jutsus: { title: "Completa 5 runs de jutsu" },
        d_xp: { title: "Gana 450 XP" },
        w_jutsus: { title: "Completa 30 runs de jutsu" },
        w_challenges: { title: "Termina 12 runs de modo rank" },
        w_xp: { title: "Gana 4000 XP" },
      },
    },
    run: {
      runErrorTitle: "Error de run",
      runAwardRejected: "Recompensa de run rechazada",
      identityUnavailable: "Identidad de Discord no disponible. Vuelve a iniciar sesion e intenta de nuevo.",
      unlockedPrefix: "Desbloqueado",
      freeCompletion: "Free Play",
      rankCompletion: "Rank",
      completionApplied: "completado aplicado",
      recoveredPendingPrefix: "Recuperado",
      pendingRankSubmit: "envio rank pendiente",
      pluralSuffix: "s",
    },
    about: {
      title: "ACERCA DE JUTSU ACADEMY",
      subtitle: "Detalles del proyecto, controles, privacidad y hoja de ruta.",
    },
  },
  DE: {
    menu: {
      languageLabel: "Sprache",
      trainMasterRankUp: "TRAINIEREN • MEISTERN • AUFSTEIGEN",
      syncingAccount: "KONTO WIRD SYNCHRONISIERT...",
      accountLinkRequired: "KONTOVERKNUPFUNG ERFORDERLICH",
      enterAcademy: "AKADEMIE BETRETEN",
      settings: "EINSTELLUNGEN",
      tutorial: "TUTORIAL",
      about: "INFO",
      signOut: "ABMELDEN",
      quit: "BEENDEN",
      muteMenuMusic: "Menumusik stummschalten",
      unmuteMenuMusic: "Menumusik einschalten",
    },
    modeSelect: {
      title: "WAHLE DEINEN PFAD",
      subtitle: "WAHLE DEIN TRAINING",
      freeObstaclePlay: "FREIES HINDERNIS / SPIELEN",
      rankMode: "RANGMODUS",
      jutsuLibrary: "JUTSU BIBLIOTHEK",
      multiplayerLocked: "MEHRSPIELER (GESPERRT)",
      questBoard: "QUEST BOARD",
      leaderboard: "BESTENLISTE",
      back: "ZURUCK",
    },
  },
  ZH: {
    menu: {
      languageLabel: "语言",
      trainMasterRankUp: "训练 • 精通 • 晋级",
      syncingAccount: "正在同步账号...",
      accountLinkRequired: "需要账号绑定",
      enterAcademy: "进入学院",
      settings: "设置",
      tutorial: "教程",
      about: "关于",
      signOut: "退出登录",
      quit: "退出",
      muteMenuMusic: "静音菜单音乐",
      unmuteMenuMusic: "取消静音菜单音乐",
    },
    modeSelect: {
      title: "选择你的道路",
      subtitle: "选择你的训练",
      freeObstaclePlay: "自由障碍 / 游玩",
      rankMode: "排位模式",
      jutsuLibrary: "忍术库",
      multiplayerLocked: "多人模式 (锁定)",
      questBoard: "任务板",
      leaderboard: "排行榜",
      back: "返回",
    },
  },
  KR: {
    menu: {
      languageLabel: "언어",
      trainMasterRankUp: "훈련 • 숙련 • 승급",
      syncingAccount: "계정 동기화 중...",
      accountLinkRequired: "계정 연동 필요",
      enterAcademy: "아카데미 입장",
      settings: "설정",
      tutorial: "튜토리얼",
      about: "정보",
      signOut: "로그아웃",
      quit: "종료",
      muteMenuMusic: "메뉴 음악 음소거",
      unmuteMenuMusic: "메뉴 음악 음소거 해제",
    },
    modeSelect: {
      title: "진로 선택",
      subtitle: "훈련을 선택하세요",
      freeObstaclePlay: "자유 장애물 / 플레이",
      rankMode: "랭크 모드",
      jutsuLibrary: "술법 라이브러리",
      multiplayerLocked: "멀티플레이어 (잠김)",
      questBoard: "퀘스트 보드",
      leaderboard: "리더보드",
      back: "뒤로",
    },
  },
};

function readTranslationPath(tree: TranslationNode, keyPath: string): string {
  const tokens = keyPath.split(".").map((token) => token.trim()).filter(Boolean);
  if (tokens.length === 0) return "";

  let cursor: TranslationNode | string = tree;
  for (const token of tokens) {
    if (typeof cursor === "string") return "";
    const next: string | TranslationNode | undefined = cursor[token];
    if (typeof next === "undefined") return "";
    cursor = next;
  }

  return typeof cursor === "string" ? cursor : "";
}

export function isLanguageCode(value: unknown): value is LanguageCode {
  const normalized = String(value || "").trim().toUpperCase();
  return (SUPPORTED_LANGUAGES as readonly string[]).includes(normalized);
}

export function toLanguageCode(value: unknown): LanguageCode {
  const normalized = String(value || "").trim().toUpperCase();
  if (isLanguageCode(normalized)) return normalized as LanguageCode;
  return DEFAULT_LANGUAGE;
}

export function toHtmlLanguage(value: LanguageCode): string {
  return HTML_LANG_BY_CODE[value] || "en";
}

export function tFromLanguage(language: LanguageCode, keyPath: string, fallback = ""): string {
  const primary = readTranslationPath(TRANSLATIONS[language], keyPath);
  if (primary) return primary;
  const english = readTranslationPath(TRANSLATIONS.EN, keyPath);
  if (english) return english;
  if (fallback) return fallback;
  return keyPath;
}
